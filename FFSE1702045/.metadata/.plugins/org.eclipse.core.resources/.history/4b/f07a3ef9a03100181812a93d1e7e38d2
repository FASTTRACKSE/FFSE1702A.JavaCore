package QuanLySinhVien;
import java.util.Scanner;

import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

import java.util.ArrayList;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;

public class QuanLySV {

	   private JFrame mainFrame;
	   private JLabel headerLabel;
	   private JLabel statusLabel;
	   private JPanel controlPanel;

	   private void prepareGUI(){
	      mainFrame = new JFrame("Vi du Java Swing");
	      mainFrame.setSize(500,400);
	      mainFrame.setLayout(new GridLayout(3, 1));
	      mainFrame.addWindowListener(new WindowAdapter() {
	         public void windowClosing(WindowEvent windowEvent){
	            System.exit(0);
	         }        
	      });    
	      headerLabel = new JLabel("", JLabel.CENTER);        
	      statusLabel = new JLabel("",JLabel.CENTER);    

	      statusLabel.setSize(350,100);

	      controlPanel = new JPanel();
	      controlPanel.setLayout(new FlowLayout());

	      mainFrame.add(headerLabel);
	      mainFrame.add(controlPanel);
	      mainFrame.add(statusLabel);
	      mainFrame.setVisible(true);  
	   }
	ArrayList<SinhVien> arrSV= new ArrayList<>();
	public void dockingSV(ArrayList<SinhVien>arrSV) {
		for(int i=0; i<arrSV.size()	;i++) {
			for(int j=0; j<arrSV.size();j++) {
				if(arrSV.get(i).getAvgSV()<arrSV.get(j).getAvgSV()) {
					SinhVien sv = new SinhVien();
					sv= arrSV.get(i);
					arrSV.set(i, arrSV.get(i));
					arrSV.set(j, sv);
				}
			}
		}
	}
	public void showlistSV(ArrayList<SinhVien> arr){
				for(int i=0;i<arr.size();i++) {
					arr.get(i).outputinfSV();
				}
	}
	public void inputlistSV(int n) {
		for (int i = 0; i <n+1; i++) {
			System.out.println("Moi ban nhap Sinh Vien thu " + (i+1));
			SinhVien sv=new SinhVien();
			sv.inputinfSV(i);
		arrSV.add(sv);
		}
	}
	public void searchSV(ArrayList<SinhVien> arr,String name) {
		int j=0;
		for(int i=0;i<arr.size();i++) {
			if(arr.get(i).getNameSV().lastIndexOf(name)>=0) {
				arr.get(i).outputinfSV();
				j=1;
			}
		}
		if(j==0) {
			System.out.println("Khong co sinh vien nay");
		}
	}

	   private void showTextFieldDemo(){
	      headerLabel.setText("Vũ tập giải phương trình bậc 2"); 

	      JLabel  SoALabel= new JLabel("Nhập số A: ", JLabel.RIGHT);
	      JLabel  soBLabel = new JLabel("Nhập số B: ", JLabel.RIGHT);
	      JLabel  soCLabel = new JLabel("Nhập số C: ", JLabel.RIGHT);
	      final JTextField a = new JTextField(6);
	      final JTextField b = new JTextField(6);
	      final JTextField c = new JTextField(6);
	 
	     

	      JButton loginButton = new JButton("Play");
	      loginButton.addActionListener(new ActionListener() {
	         public void actionPerformed(ActionEvent e) {     
	            String data = a.getText();
	            String data1 = b.getText();
	            String data2 = c.getText();
	            double i = Integer.parseInt(data);
	            double j = Integer.parseInt(data1);
	            double k = Integer.parseInt(data1);
	            double l = j*j-4*i*k;
	            double x1= (-j + Math.sqrt(l))/(2*i);
	            double x2= (-j - Math.sqrt(l))/(2*i);
	            if (l > 0) {
	            	  statusLabel.setText("Phương trình:"+data+"x^2"+"+"+data1+"x+"+data2+"=0 Có nghiệm là x1=" + x1 +
	                  		"x2=" + x2 );
	            } else if (l == 0) {
	            	  statusLabel.setText("Phương trình:"+data+"x^2"+"+"+data1+"x+"+data2+"=0 Có nghiệm là x1=x2=" +(-j/2*i));
	            } else {
	            	statusLabel.setText("Phương trình vô nghiệm" );
	            }
	        }


	          
	            		
	          
	      }); 

	      controlPanel.add(SoALabel);
	      controlPanel.add(a);
	      controlPanel.add(soBLabel);       
	      controlPanel.add(b);
	      controlPanel.add(soCLabel);
	      controlPanel.add(c);
	      controlPanel.add(loginButton);
	      mainFrame.setVisible(true);  
	   }
	}
public static void main(String[] args) {
	
	QuanLySV q= new QuanLySV();	
	Scanner input = new Scanner(System.in); 
	int lc,i=0;
	while (i==0) {

	System.out.println("---------------MENU---------------");
	System.out.println("Moi ban nhap lua chon");
	System.out.println("1...lap danh sach Sinh Vien");
	System.out.println("2...hien thi thong tin Sinh Vien");
	System.out.println("3...Sap xep danh sach Sinh Vien");
	System.out.println("4...Tim kiem Sinh Vien");
	System.out.println("5...Thoat");
	lc=input.nextInt();
	switch(lc) {
	case 1:
		System.out.println("Nhap so luong Sinh Vien co trong danh sach");
		int n=input.nextInt();
		q.inputlistSV(n);
		break;
	case 2:
		q.showlistSV(q.arrSV);
		break;
		
	case 3:
		q.dockingSV(q.arrSV);
		q.showlistSV(q.arrSV);
		break;
	case 4:
		input.nextLine();
		System.out.println("Nhap ten Sinh Vien can tim");
		String a=input.nextLine();
		q.searchSV(q.arrSV, a);
		break;
	case 5:
		i=1;
		System.out.println("Bai bai");
		break;
	}
	
}
SinhVien sv = new SinhVien();
sv.inputinfSV(i);
sv.outputinfSV();
}
}
